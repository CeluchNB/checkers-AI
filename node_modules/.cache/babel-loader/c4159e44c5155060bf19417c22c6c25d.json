{"ast":null,"code":"export function minimax(board, isMax, depth, alpha, beta, blackHeuristic) {\n  if (depth === 5) {\n    board.m = this.calculateHeuristic(board, blackHeuristic);\n    return board;\n  }\n\n  if (isMax) {\n    var val = -10000;\n    var nextBoards = this.getNextBoards(board, isMax, blackHeuristic);\n\n    for (var i = 0; i < nextBoards.length; i++) {\n      val = Math.max(val, minimax(nextBoards[i], !isMax, depth + 1, alpha, beta, blackHeuristic));\n      alpha = Math.max(alpha, val);\n\n      if (alpha >= beta) {\n        return val;\n      }\n    }\n\n    return val;\n  } else {\n    var val = 10000;\n    var nextBoards = this.getNextBoards(board, isMax, blackHeuristic);\n\n    for (var i = 0; i < nextBoards.length; i++) {\n      val = Math.min(val, minimax(nextBoards[i], !isMax, depth + 1, alpha, beta, blackHeuristic));\n      beta = Math.min(beta, val);\n\n      if (alpha >= beta) {\n        return val;\n      }\n    }\n\n    return val;\n  }\n}\nexport function calculateHeuristic(board, blackHeuristic) {\n  var h = 0;\n\n  if (blackHeuristic) {\n    h = board.black.length - board.red.length;\n  } else {\n    h = board.red.length - board.black.length;\n  }\n\n  return h;\n}\n\nfunction getNextBoards(board, isMax, blackHeuristic) {\n  if (isMax && blackHeuristic || !isMax && !blackHeuristic) {} else {}\n}\n\nfunction executeMove(board, move, blackTurn) {\n  var boards = [];\n\n  for (var i = 0; i < move.nextMoves.length; i++) {\n    if (move.nextMoves[i].jump) {} else {\n      board = addPiece(board, move.nextMoves[i], blackTurn);\n      board = removePiece(board, next);\n    }\n  }\n}\n\nexport function getAllValidMoves(board, isMax, blackHeuristic) {\n  var moves = [];\n\n  if (isMax && blackHeuristic || !isMax && !blackHeuristic) {\n    for (var i = 0; i < board.black.length; i++) {\n      var posMoves = {\n        move: board.black[i]\n      };\n      posMoves.nextMoves = getValidMoves(board, board.black[i]);\n      moves.push(posMoves);\n    }\n  } else {\n    for (var i = 0; i < board.red.length; i++) {\n      var posMoves = {\n        move: board.red[i]\n      };\n      posMoves.nextMoves = getValidMoves(board, board.red[i]);\n      moves.push(posMoves);\n    }\n  }\n\n  return moves;\n}\n\nfunction getValidMoves(board, position) {\n  var moves = [];\n\n  if (blackContains(board, position) || redContains(board, position)) {\n    for (var i = -1; i < 2; i++) {\n      for (var j = -1; j < 2; j++) {\n        if (i !== 0 && j !== 0) {\n          if (position.row + i > -1 && position.row + i < 8 && position.column + j > -1 && position.column + j < 8) {\n            var pos = {\n              row: position.row + i,\n              column: position.column + j,\n              jump: false\n            };\n\n            if (!blackContains(board, pos) && !redContains(board, pos)) {\n              moves.push(pos);\n            }\n\n            var jumpPos = getValidJump(position, i, j, board);\n\n            if (jumpPos.length > 0) {\n              moves.push(jumpPos[0]);\n            }\n          }\n        }\n      }\n    }\n  }\n\n  return moves;\n}\n\nfunction getValidJump(curPos, i, j, board) {\n  var newPos = {\n    row: curPos.row + i,\n    column: curPos.column + j\n  };\n  var jumpPos = {\n    row: newPos.row + i,\n    column: newPos.column + j,\n    jump: true,\n    jumpedPiece: newPos\n  };\n\n  if (jumpPos.row > -1 && jumpPos.row < 8 && jumpPos.column > -1 && jumpPos.column < 8) {\n    if (blackContains(board, curPos)) {\n      if (redContains(board, newPos) && !blackContains(board, jumpPos) && !redContains(board, jumpPos)) {\n        return [jumpPos];\n      }\n    }\n\n    if (redContains(board, curPos)) {\n      if (blackContains(board, newPos) && !blackContains(board, jumpPos) && !redContains(board, jumpPos)) {\n        return [jumpPos];\n      }\n    }\n  }\n\n  return [];\n}\n\nfunction removePiece(board, position, black) {\n  if (black === true) {\n    for (var i = 0; i < board.black.length; i++) {\n      if (board.black[i].row === position.row && board.black[i].column === position.column) {\n        board.black.splice(i, 1);\n      }\n    }\n  } else {\n    for (var i = 0; i < board.red.length; i++) {\n      if (board.red[i].row === position.row && board.red[i].column === position.column) {\n        board.red.splice(i, 1);\n      }\n    }\n  }\n\n  return board;\n}\n\nfunction addPiece(board, position, black) {\n  if (black === true) {\n    board.black.push(position);\n  } else {\n    board.red.push(position);\n  }\n\n  return board;\n}\n\nfunction blackContains(board, position) {\n  for (var i = 0; i < board.black.length; i++) {\n    if (board.black[i].row === position.row && board.black[i].column === position.column) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction redContains(board, position) {\n  for (var i = 0; i < board.red.length; i++) {\n    if (board.red[i].row === position.row && board.red[i].column === position.column) {\n      return true;\n    }\n  }\n\n  return false;\n}","map":{"version":3,"sources":["/Users/noahceluch/Documents/checkers/src/MiniMax.js"],"names":["minimax","board","isMax","depth","alpha","beta","blackHeuristic","m","calculateHeuristic","val","nextBoards","getNextBoards","i","length","Math","max","min","h","black","red","executeMove","move","blackTurn","boards","nextMoves","jump","addPiece","removePiece","next","getAllValidMoves","moves","posMoves","getValidMoves","push","position","blackContains","redContains","j","row","column","pos","jumpPos","getValidJump","curPos","newPos","jumpedPiece","splice"],"mappings":"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","sourcesContent":["\n\nexport function minimax(board, isMax, depth, alpha, beta, blackHeuristic) {\n  if (depth === 5) {\n    board.m = this.calculateHeuristic(board, blackHeuristic);\n    return board;\n  }\n  if (isMax) {\n    var val = -10000;\n    var nextBoards = this.getNextBoards(board, isMax, blackHeuristic);\n    for (var i = 0; i < nextBoards.length; i++) {\n      val = Math.max(val, minimax(nextBoards[i], !isMax, depth + 1, alpha, beta, blackHeuristic));\n      alpha = Math.max(alpha, val);\n      if (alpha >= beta) {\n        return val;\n      }\n    }\n    return val;\n  } else {\n    var val = 10000;\n    var nextBoards = this.getNextBoards(board, isMax, blackHeuristic);\n    for (var i = 0; i < nextBoards.length; i++) {\n      val = Math.min(val, minimax(nextBoards[i], !isMax, depth + 1, alpha, beta, blackHeuristic));\n      beta = Math.min(beta, val);\n      if (alpha >= beta) {\n        return val;\n      }\n    }\n    return val;\n  }\n}\n\nexport function calculateHeuristic(board, blackHeuristic) {\n  var h = 0;\n  if(blackHeuristic) {\n    h = board.black.length - board.red.length;\n  } else {\n    h = board.red.length - board.black.length;\n  }\n  return h;\n}\n\nfunction getNextBoards(board, isMax, blackHeuristic) {\n  if(isMax && blackHeuristic || !isMax && !blackHeuristic) {\n\n  }\n  else {\n\n  }\n}\n\nfunction executeMove(board, move, blackTurn) {\n  var boards = [];\n  for(var i = 0; i < move.nextMoves.length; i++) {\n    if(move.nextMoves[i].jump) {\n\n    } else {\n      board = addPiece(board, move.nextMoves[i], blackTurn)\n      board = removePiece(board, next)\n    }\n  }\n}\n\nexport function getAllValidMoves(board, isMax, blackHeuristic) {\n  var moves = [];\n  if(isMax && blackHeuristic || !isMax && !blackHeuristic) {\n    for(var i = 0; i < board.black.length; i++) {\n      var posMoves = {move: board.black[i]};\n      posMoves.nextMoves = getValidMoves(board, board.black[i]);\n      moves.push(posMoves);\n    }\n  }\n  else {\n    for(var i = 0; i < board.red.length; i++) {\n      var posMoves = {move: board.red[i]};\n      posMoves.nextMoves = getValidMoves(board, board.red[i]);\n      moves.push(posMoves);\n    }\n  }\n  return moves;\n}\n\nfunction getValidMoves(board, position) {\n  var moves = [];\n  if(blackContains(board, position) || redContains(board, position)) {\n    for(var i = -1; i < 2; i++) {\n      for(var j = -1; j < 2; j++) {\n        if(i !== 0 && j !== 0) {\n          if(position.row + i > -1 && position.row + i < 8 && position.column + j > -1 && position.column + j < 8) {\n            var pos = {row: position.row + i, column: position.column + j, jump: false};\n            if(!blackContains(board, pos) && !redContains(board, pos)) {\n              moves.push(pos);\n            }\n            var jumpPos = getValidJump(position, i, j, board);\n            if (jumpPos.length > 0) {\n              moves.push(jumpPos[0]);\n            }\n          }\n        }\n      }\n    }\n  }\n  return moves;\n}\n\nfunction getValidJump(curPos, i, j, board) {\n  var newPos = {row: curPos.row + i, column: curPos.column + j};\n  var jumpPos = {row: newPos.row + i, column: newPos.column + j, jump: true, jumpedPiece: newPos};\n  if(jumpPos.row > -1 && jumpPos.row < 8 && jumpPos.column > -1 && jumpPos.column < 8) {\n    if(blackContains(board, curPos)) {\n      if(redContains(board, newPos) && !blackContains(board, jumpPos) && !redContains(board, jumpPos)) {\n        return [jumpPos];\n      }\n    }\n    if(redContains(board, curPos)) {\n      if(blackContains(board, newPos) && !blackContains(board, jumpPos) && !redContains(board, jumpPos)) {\n        return [jumpPos];\n      }\n    }\n  }\n  return [];\n}\n\nfunction removePiece(board, position, black) {\n\n  if(black === true) {\n    for(var i = 0; i < board.black.length; i++) {\n      if(board.black[i].row === position.row && board.black[i].column === position.column) {\n        board.black.splice(i, 1);\n      }\n    }\n  } else {\n    for(var i = 0; i < board.red.length; i++) {\n      if(board.red[i].row === position.row && board.red[i].column === position.column) {\n        board.red.splice(i, 1);\n      }\n    }\n  }\n  return board;\n}\n\nfunction addPiece(board, position, black) {\n\n  if(black === true) {\n    board.black.push(position);\n  } else {\n    board.red.push(position);\n  }\n  return board\n}\n\nfunction blackContains(board, position) {\n  for (var i = 0; i < board.black.length; i++) {\n    if (board.black[i].row === position.row && board.black[i].column === position.column) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction redContains(board, position) {\n  for (var i = 0; i < board.red.length; i++) {\n    if (board.red[i].row === position.row && board.red[i].column === position.column) {\n      return true;\n    }\n  }\n  return false;\n}\n"]},"metadata":{},"sourceType":"module"}